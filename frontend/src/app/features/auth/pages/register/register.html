<div class="flex justify-center p-6">
	<div class="w-full max-w-md rounded-xl border border-gray-200 bg-white shadow-sm p-6 space-y-4">
		<h1 class="text-2xl font-semibold text-headerbrown">Skapa konto</h1>

		<form class="space-y-4" [formGroup]="form" (ngSubmit)="register()">
			<div>
				<label class="block text-sm text-gray-700 mb-1">E-post</label>
				<input
					type="email"
					class="form-text-input w-full"
					formControlName="email"
					autocomplete="email"
					required
				/>
			</div>

			<div>
				<label class="block text-sm text-gray-700 mb-1">Lösenord</label>
				<input
					type="password"
					class="form-text-input w-full"
					formControlName="password"
					autocomplete="new-password"
					minlength="6"
					required
				/>
				<p class="text-xs text-gray-500 mt-1">Minst 6 tecken.</p>
			</div>

			<div>
				<label class="block text-sm text-gray-700 mb-1">Bekräfta lösenord</label>
				<input
					type="password"
					class="form-text-input w-full"
					formControlName="confirmPassword"
					autocomplete="new-password"
					minlength="6"
					required
				/>
            @if (form.hasError('passwordMismatch') && form.touched) {
               <p class="text-xs text-red-600 mt-1">
                  Lösenorden måste matcha.
               </p>
            }
			</div>

			<button
				type="submit"
				class="w-full rounded-lg bg-bookolive text-white hover:bg-bookolive-dark disabled:opacity-50 disabled:cursor-not-allowed px-4 py-2 transition-colors"
				[disabled]="!canSubmit"
			>
				Registrera
			</button>
		</form>

      @if (loading) {
         <div class="text-sm text-gray-600">Skapar konto…</div>
      }

      @if (errorMsg) {
         <div class="rounded-md border border-red-300 bg-red-50 text-red-700 px-3 py-2 text-sm">
            {{ errorMsg }}
         </div>
      }

		<div class="text-sm text-gray-700">
			Har du redan ett konto?
			<a routerLink="/login" class="text-blue-600 hover:underline">Logga in</a>
		</div>
	</div>
</div>
